cmake_minimum_required(VERSION 3.26)

set(DOXYGEN_DOCUMENTATION_DIR ${DOCUMENTATION_DIR})
set(DOXYGEN_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR})
set(DOXYGEN_PROJECT_NAME ${CMAKE_PROJECT_NAME})
set(DOXYGEN_PROJECT_ROOT ${CMAKE_SOURCE_DIR})
set(DOXYGEN_README ${CMAKE_SOURCE_DIR}/README.md)
set(DOXYGEN_SOURCE_DIR ${SOURCE_DIR})
configure_file(Doxyfile.in Doxyfile)
add_custom_target(
  docs
  COMMAND doxygen
  VERBATIM
  SOURCES ${DOCUMENTATION_DIR}/Doxyfile.in)

add_custom_target(
  docs-serve
  COMMAND serve ${DOXYGEN_OUTPUT_DIRECTORY}/html
  DEPENDS docs
  BYPRODUCTS ${DOXYGEN_OUTPUT_DIRECTORY}/html
  VERBATIM)
